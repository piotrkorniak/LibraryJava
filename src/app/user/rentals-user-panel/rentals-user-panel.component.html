<div class='card'>
  <h1>{{'Template.Rentals'  | translate}}</h1>
  <p-table [value]='rentals'>
    <ng-template pTemplate='header'>
      <tr>
        <th>{{'Template.ID'  | translate}}</th>
        <th>{{'Template.Title'  | translate}}</th>
        <th>{{'Template.Author'  | translate}}</th>
        <th>{{'Template.Status'  | translate}}</th>
        <th>{{'Template.StartData'  | translate}}</th>
        <th>{{'Template.EndData'  | translate}}</th>
        <th>{{'Template.Actions'  | translate}}</th>
      </tr>
    </ng-template>
    <ng-template let-rental pTemplate='body'>
      <tr>
        <td>
          {{rental.id}}
        </td>
        <td>
          <a [routerLink]="['/books', rental.book.id]">{{rental.book.title}}</a>
        </td>
        <td>
          {{rental.book.author}}
        </td>
        <td>
          <span [class]="'rental-status status-' + rental.status">{{'Template.' + rental.status | translate}}</span>

        </td>
        <td>
          {{rental.startDate | date : 'short'}}
        </td>
        <td>
          {{rental.endDate ? (rental.endDate | date : 'short') : '-'}}
        </td>
        <td class='p-d-flex p-flex-column'>
          <button
            (click)='onCloseRental(rental)'
            [disabled]='rental.status !== rentalStatus.Pending'
            class='p-button-danger'
            pButton
            pRipple
            type='button'
          >{{'Template.Cancel'  | translate}}</button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
